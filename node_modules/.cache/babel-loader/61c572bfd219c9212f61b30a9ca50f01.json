{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Michael\\\\Documents\\\\CISC275\\\\Broken Code\\\\quizzer_start\\\\src\\\\quizzer\\\\QuizExpanded.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport \"./QuizExpanded.css\";\nimport { QuizQuestion } from \"./QuizQuestion\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function QuizExpanded(_ref) {\n  _s();\n\n  let {\n    quiz,\n    editQuiz,\n    resetView,\n    switchEdit\n  } = _ref;\n  const filteredQuestions = quiz.questionList.filter(q => quiz.published && q.published || !quiz.published);\n  const [p, sp] = useState(0);\n  const [submitArr, setSubmitArr] = useState(new Array(filteredQuestions.length));\n\n  const handleQuestionSubmit = index => {\n    const newSubmitArr = [...submitArr];\n    newSubmitArr.splice(index, 1, true);\n    setSubmitArr(newSubmitArr);\n  };\n\n  const totalPoints = filteredQuestions.reduce((prev, q) => prev + q.points, 0);\n\n  const addPoints = p => {\n    sp(prevCount => prevCount + p);\n  };\n\n  const reset = () => {\n    setSubmitArr(new Array(filteredQuestions.length));\n    editQuiz(quiz.id, { ...quiz,\n      questionList: quiz.questionList.map(q => ({ ...q,\n        submission: \"\"\n      }))\n    });\n    sp(0);\n  };\n\n  const editQuestionSub = (questionId, sub) => {\n    editQuiz(quiz.id, { ...quiz,\n      questionList: quiz.questionList.map(question => question.id === questionId ? { ...question,\n        submission: sub\n      } : question)\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-items-baseline\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"title\",\n          children: quiz.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [filteredQuestions.length, \" question\", filteredQuestions.length !== 1 ? \"s\" : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: \"esc_button text-align-center\",\n          variant: \"warning\",\n          onClick: () => {\n            reset();\n            switchEdit();\n          },\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"esc_button text-align-center\",\n          variant: \"danger\",\n          onClick: resetView,\n          children: \"Exit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"desc\",\n      children: quiz.body\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this), filteredQuestions.map((q, index) => /*#__PURE__*/_jsxDEV(QuizQuestion, {\n      index: index,\n      question: q,\n      submitted: submitArr[index],\n      handleSubmit: handleQuestionSubmit,\n      addPoints: addPoints,\n      editQuestionSub: editQuestionSub\n    }, quiz.id + \"|\" + q.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }, this)), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"footer\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"danger\",\n        onClick: reset,\n        children: \"Reset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"score_report\",\n        children: [p, \"/\", totalPoints]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(QuizExpanded, \"f6vq0+Dfz35+WV6oOZgbObsSkP8=\");\n\n_c = QuizExpanded;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"QuizExpanded\");","map":{"version":3,"sources":["C:/Users/Michael/Documents/CISC275/Broken Code/quizzer_start/src/quizzer/QuizExpanded.tsx"],"names":["React","useState","Button","QuizQuestion","QuizExpanded","quiz","editQuiz","resetView","switchEdit","filteredQuestions","questionList","filter","q","published","p","sp","submitArr","setSubmitArr","Array","length","handleQuestionSubmit","index","newSubmitArr","splice","totalPoints","reduce","prev","points","addPoints","prevCount","reset","id","map","submission","editQuestionSub","questionId","sub","question","title","body"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Question } from \"../interfaces/question\";\r\nimport { Quiz } from \"../interfaces/quiz\";\r\n\r\nimport \"./QuizExpanded.css\";\r\nimport { QuizQuestion } from \"./QuizQuestion\";\r\n\r\nexport function QuizExpanded ({\r\n    quiz,\r\n    editQuiz,\r\n    resetView,\r\n    switchEdit\r\n}: {\r\n    quiz: Quiz,\r\n    editQuiz: (id: number, quiz: Quiz) => void,\r\n    resetView: ()=>void,\r\n    switchEdit: ()=>void\r\n}): JSX.Element {\r\n    const filteredQuestions = quiz.questionList.filter(\r\n        (q: Question): boolean =>\r\n            (quiz.published && q.published) || !quiz.published\r\n    );\r\n\r\n    const [p, sp] = useState<number>(0);\r\n    const [submitArr, setSubmitArr] = useState<boolean[]>(\r\n        new Array(filteredQuestions.length)\r\n    );\r\n\r\n    const handleQuestionSubmit = (index: number) => {\r\n        const newSubmitArr = [...submitArr];\r\n        newSubmitArr.splice(index, 1, true);\r\n        setSubmitArr(newSubmitArr);\r\n    };\r\n\r\n    const totalPoints = filteredQuestions.reduce(\r\n        (prev: number, q: Question): number => prev + q.points,\r\n        0\r\n    );\r\n\r\n    const addPoints = (p: number) => {\r\n        sp((prevCount) => prevCount + p);\r\n    };\r\n\r\n    const reset = () => {\r\n        setSubmitArr(new Array(filteredQuestions.length));\r\n        editQuiz(quiz.id, {\r\n            ...quiz,\r\n            questionList: quiz.questionList.map(\r\n                (q: Question): Question => ({ ...q, submission: \"\" })\r\n            )\r\n        });\r\n\r\n        sp(0);\r\n    };\r\n\r\n    const editQuestionSub = (questionId: number, sub: string) => {\r\n        editQuiz(quiz.id, {\r\n            ...quiz,\r\n            questionList: quiz.questionList.map((question: Question) => question.id === questionId ? {...question, submission: sub} : question)\r\n        });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"d-flex justify-content-between align-items-center\">\r\n                <div className=\"d-flex align-items-baseline\">\r\n                    <h1 className=\"title\">{quiz.title}</h1>\r\n                    <p>\r\n                        {filteredQuestions.length} question\r\n                        {filteredQuestions.length !== 1 ? \"s\" : \"\"}\r\n                    </p>\r\n                </div>\r\n                <div>\r\n                    <Button\r\n                        className=\"esc_button text-align-center\"\r\n                        variant=\"warning\"\r\n                        onClick={() => {\r\n                            reset();\r\n                            switchEdit();\r\n                        }}\r\n                    >\r\n                        Edit\r\n                    </Button>\r\n                    <Button\r\n                        className=\"esc_button text-align-center\"\r\n                        variant=\"danger\"\r\n                        onClick={resetView}\r\n                    >\r\n                        {\"Exit\"}\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n            <p className=\"desc\">{quiz.body}</p>\r\n            {filteredQuestions.map((q: Question, index: number) => (\r\n                <QuizQuestion\r\n                    key={quiz.id + \"|\" + q.id}\r\n                    index={index}\r\n                    question={q}\r\n                    submitted={submitArr[index]}\r\n                    handleSubmit={handleQuestionSubmit}\r\n                    addPoints={addPoints}\r\n                    editQuestionSub={editQuestionSub}\r\n                ></QuizQuestion>\r\n            ))}\r\n            <hr />\r\n            <div className=\"footer\">\r\n                <Button variant=\"danger\" onClick={reset}>\r\n                    Reset\r\n                </Button>\r\n                <span className=\"score_report\">\r\n                    {p}/{totalPoints}\r\n                </span>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}